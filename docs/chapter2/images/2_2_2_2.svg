<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="500" viewBox="0 0 1000 500" xmlns="http://www.w3.org/2000/svg">
    <!-- 循环控制 - 每15秒重复一次完整动画 -->
    <g>
        <animateTransform attributeName="transform" type="translate"
                         values="0,0; 0,0" dur="15s" repeatCount="indefinite"/>
    </g>
    <!-- 定义渐变和滤镜 -->
    <defs>
        <linearGradient id="orangeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#fff3e0;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#ffe0b2;stop-opacity:1" />
        </linearGradient>
        
        <linearGradient id="purpleGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#f3e5f5;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#e1bee7;stop-opacity:1" />
        </linearGradient>
        
        <linearGradient id="redGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#ffebee;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#ffcdd2;stop-opacity:1" />
        </linearGradient>
        
        <linearGradient id="greenGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#e8f5e8;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#c8e6c9;stop-opacity:1" />
        </linearGradient>
        
        <linearGradient id="containerGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#f0f8ff;stop-opacity:0.8" />
            <stop offset="100%" style="stop-color:#e6f3ff;stop-opacity:0.8" />
        </linearGradient>
        
        <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.3"/>
        </filter>
    </defs>

    <!-- 淡蓝色背景容器 -->
    <rect x="50" y="20" width="900" height="360" rx="20" ry="20" 
          fill="url(#containerGradient)" stroke="#b3d9ff" stroke-width="2" filter="url(#shadow)"/>
    
    <!-- 输入文本示例 -->
    <g opacity="0">
        <animateTransform attributeName="transform" type="translate" 
                         values="0,-20; 0,0" dur="0.5s" begin="0s" fill="freeze"/>
        <animate attributeName="opacity" values="0;1" dur="0.5s" begin="0s" fill="freeze"/>
        
        <rect x="70" y="40" width="860" height="60" rx="10" ry="10" 
              fill="#FFF9C4" stroke="#F57F17" stroke-width="2" filter="url(#shadow)"/>
        <text x="500" y="75" text-anchor="middle" font-size="16" font-weight="bold" fill="#F57F17" font-family="Arial, sans-serif">
            输入文本: "我在梦里收到清华大学录取通知书"
        </text>

        
        <!-- 邮件图标 -->
        <g transform="translate(80, 50)">
            <rect x="0" y="0" width="20" height="15" rx="2" fill="#F57F17"/>
            <polygon points="0,0 10,8 20,0" fill="#FFA000"/>
        </g>
    </g>
    
    <!-- 步骤1: 文本预处理与分块 -->
    <g opacity="0">
        <animateTransform attributeName="transform" type="translate" 
                         values="0,-20; 0,0" dur="0.5s" begin="1s" fill="freeze"/>
        <animate attributeName="opacity" values="0;1" dur="0.5s" begin="1s" fill="freeze"/>
        
        <rect x="70" y="120" width="860" height="60" rx="15" ry="15" 
              fill="url(#orangeGradient)" stroke="#FF9800" stroke-width="2" filter="url(#shadow)"/>
        <text x="120" y="140" font-size="14" font-weight="bold" fill="#E65100" font-family="Arial, sans-serif">
            步骤1: 文本预处理
        </text>
        
        <!-- 文档图标 -->
        <g transform="translate(80, 130)">
            <rect x="0" y="0" width="20" height="25" rx="2" fill="#FF9800"/>
            <rect x="3" y="5" width="14" height="2" fill="white"/>
            <rect x="3" y="9" width="14" height="2" fill="white"/>
            <rect x="3" y="13" width="10" height="2" fill="white"/>
        </g>
    </g>
    
    <!-- 步骤1输出文本 - 居中显示 -->
    <text x="500" y="160" font-size="16" fill="#BF360C" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
        汉字区块: '我在梦里收到清华大学录取通知书' (15个字符)
        <animate attributeName="opacity" values="0;1" dur="0.1s" begin="1.5s" fill="freeze"/>
    </text>

    <!-- 步骤2: 构建DAG -->
    <g opacity="0">
        <animateTransform attributeName="transform" type="translate"
                         values="0,-20; 0,0" dur="0.5s" begin="4s" fill="freeze"/>
        <animate attributeName="opacity" values="0;1" dur="0.5s" begin="4s" fill="freeze"/>

        <rect x="70" y="200" width="860" height="60" rx="15" ry="15"
              fill="url(#purpleGradient)" stroke="#9C27B0" stroke-width="2" filter="url(#shadow)"/>
        <text x="120" y="220" font-size="14" font-weight="bold" fill="#4A148C" font-family="Arial, sans-serif">
            步骤2: 构建DAG
        </text>

        <!-- 网络图标 -->
        <g transform="translate(80, 210)">
            <circle cx="5" cy="5" r="3" fill="#9C27B0"/>
            <circle cx="15" cy="5" r="3" fill="#9C27B0"/>
            <circle cx="25" cy="5" r="3" fill="#9C27B0"/>
            <circle cx="10" cy="15" r="3" fill="#9C27B0"/>
            <circle cx="20" cy="15" r="3" fill="#9C27B0"/>
            <line x1="5" y1="5" x2="15" y2="5" stroke="#9C27B0" stroke-width="1"/>
            <line x1="15" y1="5" x2="25" y2="5" stroke="#9C27B0" stroke-width="1"/>
            <line x1="5" y1="5" x2="10" y2="15" stroke="#9C27B0" stroke-width="1"/>
            <line x1="15" y1="5" x2="20" y2="15" stroke="#9C27B0" stroke-width="1"/>
        </g>
    </g>

    <!-- 步骤2输出文本 - 单行流式输出 -->
    <g opacity="0">
        <animate attributeName="opacity" values="0;1" dur="0.1s" begin="4.5s" fill="freeze"/>

        <!-- 所有词语在一行显示 - 均匀间隔 -->
        <text x="200" y="240" font-size="16" fill="#6A1B9A" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '我'[0:1]
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="4.6s" fill="freeze"/>
        </text>
        <text x="280" y="240" font-size="16" fill="#6A1B9A" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '在'[1:2]
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="4.9s" fill="freeze"/>
        </text>
        <text x="365" y="240" font-size="16" fill="#6A1B9A" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '梦里'[2:4]
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="5.2s" fill="freeze"/>
        </text>
        <text x="460" y="240" font-size="16" fill="#6A1B9A" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '收到'[4:6]
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="5.5s" fill="freeze"/>
        </text>
        <text x="575" y="240" font-size="16" fill="#6A1B9A" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '清华大学'[6:10]
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="5.8s" fill="freeze"/>
        </text>
        <text x="690" y="240" font-size="16" fill="#6A1B9A" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '录取'[10:12]
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="6.1s" fill="freeze"/>
        </text>
        <text x="800" y="240" font-size="16" fill="#6A1B9A" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '通知书'[12:15]
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="6.4s" fill="freeze"/>
        </text>
    </g>

    <!-- 步骤3: 计算最优路径 -->
    <g opacity="0">
        <animateTransform attributeName="transform" type="translate"
                         values="0,-20; 0,0" dur="0.5s" begin="7s" fill="freeze"/>
        <animate attributeName="opacity" values="0;1" dur="0.5s" begin="7s" fill="freeze"/>

        <rect x="70" y="280" width="860" height="60" rx="15" ry="15"
              fill="url(#redGradient)" stroke="#F44336" stroke-width="2" filter="url(#shadow)"/>
        <text x="120" y="300" font-size="14" font-weight="bold" fill="#B71C1C" font-family="Arial, sans-serif">
            步骤3: 计算最优路径
        </text>

        <!-- 计算图标 -->
        <g transform="translate(80, 290)">
            <rect x="0" y="0" width="20" height="15" rx="2" fill="#F44336"/>
            <text x="10" y="10" text-anchor="middle" font-size="8" fill="white" font-family="Arial, sans-serif">∑</text>
        </g>
    </g>

    <!-- 步骤3输出文本 - 单行路由表 -->
    <g opacity="0">
        <animate attributeName="opacity" values="0;1" dur="0.1s" begin="7.5s" fill="freeze"/>

        <!-- 所有路由在一行显示 - 在红框内上下居中，均匀间隔 -->
        <text x="200" y="320" font-size="16" fill="#C62828" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            route[0] = 1
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="7.6s" fill="freeze"/>
        </text>
        <text x="290" y="320" font-size="16" fill="#C62828" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            route[1] = 2
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="7.8s" fill="freeze"/>
        </text>
        <text x="385" y="320" font-size="16" fill="#C62828" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            route[2] = 4
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="8.0s" fill="freeze"/>
        </text>
        <text x="480" y="320" font-size="16" fill="#C62828" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            route[4] = 6
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="8.2s" fill="freeze"/>
        </text>
        <text x="580" y="320" font-size="16" fill="#C62828" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            route[6] = 10
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="8.4s" fill="freeze"/>
        </text>
        <text x="690" y="320" font-size="16" fill="#C62828" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            route[10] = 12
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="8.6s" fill="freeze"/>
        </text>
        <text x="800" y="320" font-size="16" fill="#C62828" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            route[12] = 15
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="8.8s" fill="freeze"/>
        </text>
    </g>

    <!-- 步骤4: 重建结果 -->
    <g opacity="0">
        <animateTransform attributeName="transform" type="translate"
                         values="0,-20; 0,0" dur="0.5s" begin="9.5s" fill="freeze"/>
        <animate attributeName="opacity" values="0;1" dur="0.5s" begin="9.5s" fill="freeze"/>

        <rect x="70" y="360" width="860" height="60" rx="15" ry="15"
              fill="url(#greenGradient)" stroke="#4CAF50" stroke-width="2" filter="url(#shadow)"/>
        <text x="120" y="380" font-size="14" font-weight="bold" fill="#1B5E20" font-family="Arial, sans-serif">
            步骤4: 输出结果
        </text>

        <!-- 输出图标 -->
        <g transform="translate(80, 370)">
            <rect x="0" y="0" width="20" height="20" rx="2" fill="#4CAF50"/>
            <polyline points="5,10 9,14 15,6" stroke="white" stroke-width="2" fill="none"/>
        </g>
    </g>

    <!-- 步骤4输出文本 - 居中分词结果 -->
    <g opacity="0">
        <animate attributeName="opacity" values="0;1" dur="0.1s" begin="10s" fill="freeze"/>

        <!-- 一行居中显示分词结果 - 在绿框内居中 -->
        <text x="250" y="400" font-size="16" fill="#2E7D32" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '我'
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="10.1s" fill="freeze"/>
        </text>
        <text x="320" y="400" font-size="16" fill="#2E7D32" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '在'
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="10.5s" fill="freeze"/>
        </text>
        <text x="390" y="400" font-size="16" fill="#2E7D32" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '梦里'
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="10.9s" fill="freeze"/>
        </text>
        <text x="460" y="400" font-size="16" fill="#2E7D32" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '收到'
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="11.3s" fill="freeze"/>
        </text>
        <text x="550" y="400" font-size="16" fill="#2E7D32" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '清华大学'
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="11.7s" fill="freeze"/>
        </text>
        <text x="630" y="400" font-size="16" fill="#2E7D32" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '录取'
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="12.1s" fill="freeze"/>
        </text>
        <text x="710" y="400" font-size="16" fill="#2E7D32" font-family="Arial, sans-serif" text-anchor="middle" opacity="0">
            '通知书'
            <animate attributeName="opacity" values="0;1" dur="0.1s" begin="12.5s" fill="freeze"/>
        </text>
    </g>
</svg>
